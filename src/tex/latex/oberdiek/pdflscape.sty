%%
%% This is file `pdflscape.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% pdflscape.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2001, 2004, 2006 by
%%    Heiko Oberdiek <oberdiek@uni-freiburg.de>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3 of this license or (at your option) any later
%% version. The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% This work consists of the main source file pdflscape.dtx
%% and the derived files
%%    pdflscape.sty, pdflscape.pdf, pdflscape.ins, pdflscape.drv.
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pdflscape}%
  [2006/04/24 v0.6 Landscape pages in PDF (HO)]
\let\PLS@driver\@empty
\DeclareOption{pdftex}{%
  \PassOptionsToPackage\CurrentOption{lscape}%
  \def\PLS@driver{pdftex}%
}
\DeclareOption{dvips}{%
  \PassOptionsToPackage\CurrentOption{lscape}%
  \def\PLS@driver{dvips}%
}
\DeclareOption{dvipsone}{%
  \PassOptionsToPackage\CurrentOption{lscape}%
  \def\PLS@driver{dvips}%
}
\DeclareOption{pctexps}{%
  \PassOptionsToPackage\CurrentOption{lscape}%
  \def\PLS@driver{dvips}%
}
\DeclareOption{dvipdfm}{%
  \PassOptionsToPackage\CurrentOption{dvipdfm}%
  \def\PLS@driver{dvipdfm}%
}
\DeclareOption*{\PassOptionsToPackage\CurrentOption{lscape}}
\ProcessOptions
\RequirePackage{lscape}
\def\PLS@temp{pdftex}
\ifnum 1=0\ifx\pdfoutput\@undefined
          \else
            \ifx\pdfoutput\relax
            \else
              \ifnum\pdfoutput>0 %
                1%
              \fi
            \fi
          \fi
          \space
  \ifx\PLS@driver\@empty
    \let\PLS@driver\PLS@temp
    \PackageInfo{pdflscape}{Auto-detected driver: `\PLS@temp'}%
  \fi
  \ifx\PLS@driver\PLS@temp
  \else
    \PackageError{pdflscape}{%
      The driver option `\PLS@driver' is not compatible\MessageBreak
      with pdfTeX in PDF mode, using driver `pdftex' instead%
    }\@ehc
    \let\PLS@driver\PLS@temp
  \fi
\fi
\def\PLS@temp{dvips}
\ifnum 1=0\ifx\Gin@PS@raw\@undefined
          \else
            \ifx\Gin@PS@raw\relax
            \else
              \ifx\Gin@PS@raw\@empty
              \else
                1%
              \fi
            \fi
          \fi
          \space
  \ifx\PLS@driver\@empty
    \let\PLS@driver\PLS@temp
    \PackageInfo{pdflscape}{Auto-detected driver: `\PLS@temp'}%
  \fi
  \ifx\PLS@driver\PLS@temp
  \else
    \PackageError{pdflscape}{%
      The driver option `\PLS@driver' is not compatible\MessageBreak
      with detected PostScript driver,\MessageBreak
      Will try using driver `dvips'%
    }\@ehc
    \let\PLS@driver\PLS@temp
  \fi
\fi
\def\PLS@temp{dvipdfm.def}
\ifx\PLS@temp\Gin@driver
  \def\PLS@temp{dvipdfm}%
  \ifx\PLS@driver\@empty
    \let\PLS@driver\PLS@temp
    \PackageInfo{pdflscape}{Auto-detected driver: `\PLS@temp'}%
  \fi
  \ifx\PLS@driver\PLS@temp
  \else
    \PackageError{pdflscape}{%
      Graphics driver `dvipdfm.def' is loaded, but this\MessageBreak
      is incompatible with driver `\PLS@driver'.\MessageBreak
      Will try using driver `dvipdfm'%
    }\@ehc
    \let\PLS@driver\PLS@temp
  \fi
\fi

\ifx\PLS@driver\@empty
  \PackageError{pdflscape}{%
    Neither pdfTeX, PostScript, nor dvipdfm driver found%
  }\@ehc
\fi
\def\PLS@temp{pdftex}
\ifx\PLS@temp\PLS@driver
  \def\PLS@AddRotate#1{%
    \ifnum#1=0
    \else
      \global\pdfpageattr\expandafter{%
        \the\pdfpageattr
        /Rotate #1%
      }%
    \fi
  }
  \def\PLS@RemoveRotate{%
    \begingroup
      \global\pdfpageattr\expandafter{\expandafter}%
      \expandafter\PLS@@RemoveRotate
        \the\pdfpageattr /Rotate\@nil
    \endgroup
  }
  \def\PLS@@RemoveRotate#1/Rotate#2\@nil{%
    \global\pdfpageattr\expandafter{\the\pdfpageattr#1}%
    \ifx\\#2\\%
    \else
      \afterassignment\PLS@@RemoveRotate
      \count0=#2\@nil
    \fi
  }
\fi
\def\PLS@temp{dvips}
\ifx\PLS@temp\PLS@driver
  \RequirePackage{everyshi}%
  \EveryShipout{\PLS@EveryShi}%
  \let\PLS@EveryShi\@empty
  \def\PLS@AddRotate#1{%
    \ifnum#1=0
    \else
      \def\PLS@EveryShi{%
        \global\setbox\@cclv\vbox{%
          \Gin@PS@raw{%
            [{ThisPage}\string<\string</Rotate #1\string>\string>%
            /PUT pdfmark%
          }%
          \box\@cclv
        }%
      }%
    \fi
  }%
  \def\PLS@RemoveRotate{\let\PLS@EveryShi\@empty}%
\fi
\def\PLS@temp{dvipdfm}
\ifx\PLS@temp\PLS@driver
  \RequirePackage{everyshi}%
  \EveryShipout{\PLS@EveryShi}%
  \let\PLS@EveryShi\@empty
  \def\PLS@AddRotate#1{%
    \ifnum#1=0
    \else
      \def\PLS@EveryShi{%
        \global\setbox\@cclv\vbox{%
          \special{pdf: put @thispage << /Rotate #1 >>}%
          \box\@cclv
        }%
      }%
    \fi
  }%
  \def\PLS@RemoveRotate{\let\PLS@EveryShi\@empty}%
\fi
\g@addto@macro{\landscape}{\PLS@Rotate{90}}
\g@addto@macro{\endlandscape}{\PLS@Rotate{0}}
\def\PLS@Rotate#1{%
  \begingroup
    \PLS@CheckAngle{#1}%
  \expandafter\endgroup
  \expandafter\PLS@RemoveRotate
  \expandafter\PLS@AddRotate\expandafter{\the\count@}%
}
\def\PLS@CheckAngle#1{%
  \ifx\\#1\\%
    \count@=0
  \else
    \count@=#1\relax
  \fi
  \@whilenum\count@>359\do{\addtocounter\count@ -360 }%
  \@whilenum\count@<-359\do{\addtocounter\count@ 360 }%
  \ifnum 1=0\ifnum\count@=0 \else
            \ifnum\count@=90 \else
            \ifnum\count@=-90 \else
            \ifnum\count@=180 \else
            \ifnum\count@=-180 \else
            \ifnum\count@=270 \else
            \ifnum\count@=-270 \else
           1\fi\fi\fi\fi\fi\fi\fi\relax
    \PackageError{pdflscape}{%
      Invalid value \the\count@\space for /Rotate%
    }\@ehc
    \count@=0
  \fi
}
\endinput
%%
%% End of file `pdflscape.sty'.
