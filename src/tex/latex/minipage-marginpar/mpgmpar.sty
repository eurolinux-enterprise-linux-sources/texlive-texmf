%%
%% This is file `mpgmpar.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% mpgmpar.dtx  (with options: `package')
%% 
%%  ,--------------------------------------------------.
%%  |  Das ist eine generierte Datei.                  |
%%  |                                                  |
%%  | (c) 2006 Paul Ebermann.                          |
%%  '--------------------------------------------------'
%%  (C) 2006 Paul Ebermann
%%
%%   Package mpgmpar - Randnotizen auch in Minipages
%%
%%   Die Datei mpgmpar.dtx sowie die dazugehörige
%%   mpgmpar.ins sowie die damit generierte
%%   mpgmpar.sty stehen unter der
%%   "LaTeX Project Public License" (LPPL, zu finden
%%   unter http://www.latex-project.org/lppl/, sowie
%%   auch in den meisten TeX-Distributionen in
%%   texmf/docs/latex/base/lppl*.txt), Version 1.3b oder
%%   später (nach Wahl des Verwenders).
%%
%%   Der 'maintenance-status' ist (zur Zeit) 'maintained'.
%%
%%   Das heißt in etwa, die Dateien dürfen frei vertrieben
%%   werden, bei Änderungen (durch andere Personen als Paul Ebermann)
%%   ist aber der Name der Datei zu ändern.
\NeedsTeXFormat{LaTeX2e}[2003/12/01]
\ProvidesPackage{mpgmpar}
 [2006/05/23 v0.2 Randnotizen auch in Minipages (PE)]
\newcommand*{\mpgmpar@savedmargins}{}%
\newcommand*{\mpgmpar@dummy}{}%
\let \mpgmpar@dummy = \relax
\newcommand*{\mpgmpar@savemarginpars}{%
   \renewcommand*{\marginpar}[2][\mpgmpar@dummy]%
   {%
      \@bsphack
      \def\temp@a{##1}%
      \ifx\mpgmpar@dummy\temp@a%
         \g@addto@macro{\mpgmpar@savedmargins}{%
            \marginpar{##2}}%
      \else%
         \g@addto@macro{\mpgmpar@savedmargins}{%
            \marginpar[{##1}]{##2}}%
      \fi%
      \@ignorefalse
      \@esphack
   }%
}%
\newcommand*{\mpgmpar@restoremarginpars}{%
   \let        \@tempa               = \mpgmpar@savedmargins
   \global\let \mpgmpar@savedmargins = \@empty
   \@tempa
   \let        \@tempa               = \undefined
}%
\newenvironment*{minipagewithmarginpars}[2][t]{%
   \begin{minipage}[#1]{#2}%
      \mpgmpar@savemarginpars
} {%
   \end{minipage}%
   \mpgmpar@restoremarginpars
}%
\endinput
%%
%% End of file `mpgmpar.sty'.
