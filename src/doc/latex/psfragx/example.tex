%% LaTeX2e file `example.tex'
%% generated by the `filecontents' environment
%% from source `psfragx_example' on 2005/02/14.
%%
\documentclass[a4paper,10pt]{article}
\usepackage[T1]{fontenc}
\usepackage[ansinew]{inputenc}
\usepackage[sub,ovp]{psfragx}
\usepackage{overpic,color}
\usepackage{verbatim}
\usepackage[francais,english]{babel}

\pagestyle{empty}

\begin{document}
\section*{Test of psfragx}

\includegraphicx[width=0.4\linewidth,overwritepfx,overwriteovp]{example.eps}
\hfill
\includegraphicx[width=0.4\linewidth,pfx=false,ovp=false]{example.eps}

\section*{We switch to french...}
\selectlanguage{french}

\vspace{\stretch{1}}\par

\begin{overpic}[height=0.35\textheight]{example.eps}
\put(10,10){(10,10)}
\put(25,25){(25,25)}
\end{overpic}

\vspace{\stretch{1}}\par

Entre les deux graphiques qui suivent, nous revenons à
l'anglais.\\ [2cm]



\noindent
\includegraphics[width=0.4\linewidth]%
                (\psfrag{W}[][][1][60]{\textcolor{red}{W}})
                <\put(40,40){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}
                 \put(50,50){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}
                 \put(25,20){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}>
                [\put(40,45){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}
                 \put(25,30){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}
                 \put(60,50){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}
                 \put(50,10){\resizebox{3cm}{3cm}{\includegraphicx[ovp=false]{example.eps}}}
                 \put(65,45){\resizebox{2cm}{2cm}{\includegraphicx[ovp=true]{example.eps}}}]
                {example.eps}%
\hfill \selectlanguage{english}%
\mbox{%
\begin{overpix}[width=0.4\linewidth]%
                <\put(40,40){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}
                 \put(50,50){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}
                 \put(25,20){\fcolorbox{red}{red}{\textcolor{white}{Avant}}}>
                [\put(40,45){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}
                 \put(25,30){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}
                 \put(60,50){\fcolorbox{blue}{blue}{\textcolor{yellow}{Fond}}}]
                {example.eps}
       \put(50,55){\fcolorbox{green}{green}{\textcolor{white}{Milieu}}}
\end{overpix}
}

You can notice that automatic inclusion of picture elements is
possible even when the graphic is itself embedded into another
overpic environment.

\section*{Source code}
\footnotesize
\verbatiminput{example.tex}

\end{document}
